<div class="studio">
  <div class="about">

    <div class="headerEdit">
      <h2>Studio</h2>
      <div *ngIf="session && !editExp" type="button" class="editCont" (click)="btnNewStudy()">
        <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em"
          preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32">
          <path fill="currentColor"
            d="M16 2A14.172 14.172 0 0 0 2 16a14.172 14.172 0 0 0 14 14a14.172 14.172 0 0 0 14-14A14.172 14.172 0 0 0 16 2Zm8 15h-7v7h-2v-7H8v-2h7V8h2v7h7Z" />
          <path fill="none" d="M24 17h-7v7h-2v-7H8v-2h7V8h2v7h7v2z" />
        </svg>
      </div>
    </div>

    <div *ngIf="!newStudy; else new">
      <div class="list-group" *ngIf="!editExp; else edit">
        <div *ngFor="let stud of studyGet ;let indexOfelement=index;"
          class="list-group-item list-group-item-action target">

          <div *ngIf="session" (click)="delete(indexOfelement, stud.programa)">
            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em"
              preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
              <path fill="currentColor"
                d="M21.5 6a1 1 0 0 1-.883.993L20.5 7h-.845l-1.231 12.52A2.75 2.75 0 0 1 15.687 22H8.313a2.75 2.75 0 0 1-2.737-2.48L4.345 7H3.5a1 1 0 0 1 0-2h5a3.5 3.5 0 1 1 7 0h5a1 1 0 0 1 1 1Zm-7.25 3.25a.75.75 0 0 0-.743.648L13.5 10v7l.007.102a.75.75 0 0 0 1.486 0L15 17v-7l-.007-.102a.75.75 0 0 0-.743-.648Zm-4.5 0a.75.75 0 0 0-.743.648L9 10v7l.007.102a.75.75 0 0 0 1.486 0L10.5 17v-7l-.007-.102a.75.75 0 0 0-.743-.648ZM12 3.5A1.5 1.5 0 0 0 10.5 5h3A1.5 1.5 0 0 0 12 3.5Z" />
            </svg>
          </div>

          <div>
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1">{{ stud.programa }}</h5>
              <small>{{ stud.fecha }}</small>
            </div>
            <p class="mb-1">{{ stud.instituto }}</p>
            <div class="studioEdit">
              <small>{{ stud.estado }}</small>
              <div *ngIf=(session) type="button" class="editCont" (click)="edits(indexOfelement)">
                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em"
                  preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
                  <path fill="currentColor"
                    d="M19 20H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2ZM5 18h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71L16.66 2.6A2 2 0 0 0 14 2.53l-9 9a2 2 0 0 0-.57 1.21L4 16.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 18ZM15.27 4L18 6.73l-2 1.95L13.32 6Z" />
                </svg>
              </div>

            </div>
          </div>


        </div>
      </div>

    </div>

    <ng-template #new>
      <div class="exp">
        <form [formGroup]="form" (ngSubmit)="onEnviar($event)">
          <div class="list-group">
            <div class="list-group-item list-group-item-action target">
              <div class="d-flex w-100 justify-content-between header">
                <div class="head">
                  <div>
                  </div>

                  <div class="mb-1">
                    <label for="newPrograma" class="form-label">programa
                    </label>
                    <input type="text" class="form-control" aria-describedby="newPrograma" id="newPrograma"
                      placeholder="Programa" formControlName="programa"
                      [ngStyle]="{'border-color':( Programa?.errors &&  Programa?.touched) ? 'tomato' : '#736b5e', 'color':( Programa?.errors &&  Programa?.touched) ? 'tomato' : 'whitesmoke' }">
                    <div class="error" *ngIf="Programa?.errors  && Programa?.touched">
                      <p *ngIf="Programa?.hasError('required')" class="error mt-1">
                        Programa es requerido.
                      </p>
                      <p *ngIf="Programa?.errors?.['minlength']" class="error mt-1">
                        El User debe ser de 5 o más caracteres.
                      </p>
                      <p *ngIf="Programa?.errors?.['maxlength']" class="error mt-1">
                        El User debe ser menor a 12 caracteres.
                      </p>
                    </div>
                  </div>

                </div>

                <div class="mb-1">
                  <label for="newFecha" class="form-label"><small>fecha
                    </small>
                  </label>
                  <input type="text" class="form-control" id="newFecha" aria-describedby="newFecha" placeholder="Fecha"
                    formControlName="fecha"
                    [ngStyle]="{'border-color':(Fecha?.errors && Fecha?.touched) ? 'tomato' : '#736b5e', 'color':(Fecha?.errors && Fecha?.touched) ? 'tomato' : 'whitesmoke' }">
                  <div class="error" *ngIf="Fecha?.errors  && Fecha?.touched">
                    <p *ngIf="Fecha?.hasError('required')" class="error mt-1">
                      Fecha es requerido.
                    </p>
                    <p *ngIf="Fecha?.errors?.['minlength']" class="error mt-1">
                      La fecha debe ser de 9 caracteres. 2222-2222
                    </p>
                    <p *ngIf="Fecha?.errors?.['maxlength']" class="error mt-1">
                      La fecha debe ser menor a 10 caracteres. 2222-2222
                    </p>
                  </div>
                </div>

              </div>

              <div class="mb-1">
                <label for="newInstituto" class="form-label">instituto
                </label>
                <input type="text" class="form-control" id="newInstituto" aria-describedby="newInstituto"
                  placeholder="Instituto" formControlName="instituto"
                  [ngStyle]="{'border-color':( Instituto?.errors &&  Instituto?.touched) ? 'tomato' : '#736b5e', 'color':( Instituto?.errors &&  Instituto?.touched) ? 'tomato' : 'whitesmoke' }">
                <div class="error" *ngIf="Instituto?.errors  && Instituto?.touched">
                  <p *ngIf="Instituto?.hasError('required')" class="error mt-1">
                    Instituto es requerido.
                  </p>
                  <p *ngIf="Instituto?.errors?.['minlength']" class="error mt-1">
                    El User debe ser de 5 o más caracteres.
                  </p>
                  <p *ngIf="Instituto?.errors?.['maxlength']" class="error mt-1">
                    El User debe ser menor a 12 caracteres.
                  </p>
                </div>
              </div>


              <div class="expEdit">
                <div class="mb-1">
                  <label for="newEstado" class="form-label">estado
                  </label>
                  <input type="text" class="form-control" id="newEstado" aria-describedby="newEstado"
                    placeholder="Estado" formControlName="estado"
                    [ngStyle]="{'border-color':(Estado?.errors && Estado?.touched) ? 'tomato' : '#736b5e', 'color':(Estado?.errors && Estado?.touched) ? 'tomato' : 'whitesmoke' }">
                  <div class="error" *ngIf="Estado?.errors  && Estado?.touched">
                    <p *ngIf="Estado?.hasError('required')" class="error mt-1">
                      Estado es requerido. en curso/finalizado
                    </p>
                    <p *ngIf="Estado?.errors?.['minlength']" class="error mt-1">
                      El User debe ser de 5 o más caracteres.
                    </p>
                    <p *ngIf="Estado?.errors?.['maxlength']" class="error mt-1">
                      El User debe ser menor a 12 caracteres.
                    </p>
                  </div>
                </div>
              </div>

              <div class="btnsEdit">
                <button class="button" type="submit">
                  <div (click)="cancelar()">
                    <p>Cancelar</p>
                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em"
                      preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59L15.59 7L17 8.41L13.41 12L17 15.59z" />
                    </svg>
                  </div>
                </button>
                <button class="button" type="submit">
                  <p>Agregar</p>
                  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em"
                    preserveAspectRatio="xMidYMid meet" viewBox="0 0 1200 1200">
                    <path fill="currentColor"
                      d="M600 0C268.629 0 0 268.629 0 600s268.629 600 600 600s600-268.629 600-600S931.371 0 600 0zm257.446 281.03l124.657 124.658l-389.354 389.43L468.823 918.97L344.165 794.312l-126.27-126.344l123.853-123.853l126.27 126.343L857.446 281.03z" />
                  </svg>
                </button>
              </div>

            </div>
          </div>
        </form>
      </div>
    </ng-template>


    
    <ng-template #edit>
      <div class="exp">
        <form [formGroup]="form" (ngSubmit)="onEdit($event)">
          <div class="list-group">
            <div class="list-group-item list-group-item-action target">
              <div class="d-flex w-100 justify-content-between header">
                <div class="head">
                  <div>
                  </div>

                  <div class="mb-1">
                    <label for="newPrograma" class="form-label">programa
                    </label>
                    <input type="text" class="form-control" aria-describedby="newPrograma" id="newPrograma"
                      placeholder="Programa" formControlName="programa"
                      [ngStyle]="{'border-color':( Programa?.errors &&  Programa?.touched) ? 'tomato' : '#736b5e', 'color':( Programa?.errors &&  Programa?.touched) ? 'tomato' : 'whitesmoke' }">
                    <div class="error" *ngIf="Programa?.errors  && Programa?.touched">
                      <p *ngIf="Programa?.hasError('required')" class="error mt-1">
                        Programa es requerido.
                      </p>
                      <p *ngIf="Programa?.errors?.['minlength']" class="error mt-1">
                        El User debe ser de 5 o más caracteres.
                      </p>
                      <p *ngIf="Programa?.errors?.['maxlength']" class="error mt-1">
                        El User debe ser menor a 12 caracteres.
                      </p>
                    </div>
                  </div>

                </div>

                <div class="mb-1">
                  <label for="newFecha" class="form-label"><small>fecha
                    </small>
                  </label>
                  <input type="text" class="form-control" id="newFecha" aria-describedby="newFecha" placeholder="Fecha"
                    formControlName="fecha"
                    [ngStyle]="{'border-color':(Fecha?.errors && Fecha?.touched) ? 'tomato' : '#736b5e', 'color':(Fecha?.errors && Fecha?.touched) ? 'tomato' : 'whitesmoke' }">
                  <div class="error" *ngIf="Fecha?.errors  && Fecha?.touched">
                    <p *ngIf="Fecha?.hasError('required')" class="error mt-1">
                      Fecha es requerido.
                    </p>
                    <p *ngIf="Fecha?.errors?.['minlength']" class="error mt-1">
                      La fecha debe ser de 9 caracteres. 2222-2222
                    </p>
                    <p *ngIf="Fecha?.errors?.['maxlength']" class="error mt-1">
                      La fecha debe ser menor a 10 caracteres. 2222-2222
                    </p>
                  </div>
                </div>

              </div>

              <div class="mb-1">
                <label for="newInstituto" class="form-label">instituto
                </label>
                <input type="text" class="form-control" id="newInstituto" aria-describedby="newInstituto"
                  placeholder="Instituto" formControlName="instituto"
                  [ngStyle]="{'border-color':( Instituto?.errors &&  Instituto?.touched) ? 'tomato' : '#736b5e', 'color':( Instituto?.errors &&  Instituto?.touched) ? 'tomato' : 'whitesmoke' }">
                <div class="error" *ngIf="Instituto?.errors  && Instituto?.touched">
                  <p *ngIf="Instituto?.hasError('required')" class="error mt-1">
                    Instituto es requerido.
                  </p>
                  <p *ngIf="Instituto?.errors?.['minlength']" class="error mt-1">
                    El User debe ser de 5 o más caracteres.
                  </p>
                  <p *ngIf="Instituto?.errors?.['maxlength']" class="error mt-1">
                    El User debe ser menor a 12 caracteres.
                  </p>
                </div>
              </div>


              <div class="expEdit">
                <div class="mb-1">
                  <label for="newEstado" class="form-label">estado
                  </label>
                  <input type="text" class="form-control" id="newEstado" aria-describedby="newEstado"
                    placeholder="Estado" formControlName="estado"
                    [ngStyle]="{'border-color':(Estado?.errors && Estado?.touched) ? 'tomato' : '#736b5e', 'color':(Estado?.errors && Estado?.touched) ? 'tomato' : 'whitesmoke' }">
                  <div class="error" *ngIf="Estado?.errors  && Estado?.touched">
                    <p *ngIf="Estado?.hasError('required')" class="error mt-1">
                      Estado es requerido. en curso/finalizado
                    </p>
                    <p *ngIf="Estado?.errors?.['minlength']" class="error mt-1">
                      El User debe ser de 5 o más caracteres.
                    </p>
                    <p *ngIf="Estado?.errors?.['maxlength']" class="error mt-1">
                      El User debe ser menor a 12 caracteres.
                    </p>
                  </div>
                </div>
              </div>

              <div class="btnsEdit">
                <button (click)="cancelar()">
                  <p>Cancelar</p>
                  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em"
                    preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
                    <path fill="currentColor"
                      d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59L15.59 7L17 8.41L13.41 12L17 15.59z" />
                  </svg>
                </button >
                <button type="submit">
                  <p>Guardar</p>
                  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em"
                    preserveAspectRatio="xMidYMid meet" viewBox="0 0 1200 1200">
                    <path fill="currentColor"
                      d="M600 0C268.629 0 0 268.629 0 600s268.629 600 600 600s600-268.629 600-600S931.371 0 600 0zm257.446 281.03l124.657 124.658l-389.354 389.43L468.823 918.97L344.165 794.312l-126.27-126.344l123.853-123.853l126.27 126.343L857.446 281.03z" />
                  </svg>
                </button >
              </div>
          

            </div>
          </div>
        </form>
      </div>
      
    </ng-template>

  </div>
</div>